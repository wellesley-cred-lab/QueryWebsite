<DOCTYPE html>
    <html>
    
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width"> 
        <title>Comparator</title>
		<script src="node_modules/jquery/dist/jquery.min.js"></script>
        <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script> 
        <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/brython@3.8.10/brython.min.js"> </script> 
        <script src="https://cdn.jsdelivr.net/npm/brython@3.8.10/brython_stdlib.js"> </script>
        <script src="app.js"></script>
		
    </head>
    <body onload="brython()">
        <div>
            <p id=query>Query</p>    
        </div>

        <div>
            <span id=date1 style="width: 50%; float:left;">Date 1</span>
            <span id=date2 style="width: 50%; float:left;">Date 2</span>
        </div>


        <iframe id="iframeDate1" name="myIframe" frameborder="5" width="650" height="500"></iframe>
        <iframe id="iframeDate2" name="myIframe" frameborder="5" width="650" height="500"></iframe>

        <div>
            <p id=difference>Difference</p>    
        </div>
        
        <script>
            var params = {};
            location.search.slice(1).split("&").forEach(function(pair) {
            pair = pair.split("=");
            params[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);
            });
            selectedQuery = params['param1'].replaceAll("+"," ");
            previousDate = params['param3'];
            currentDate = params['param2'];
            console.log(params);
            console.log(selectedQuery);
            console.log(previousDate);
            console.log(currentDate);
            
            

            $(document).ready(function(){
                $('#query').text("Query: "+selectedQuery);
                $('#date1').text("Previous Date: "+previousDate);
                $('#date2').text("Current Date: "+currentDate);
                filename1 = 'SERP_Collection/'+previousDate+"/"+selectedQuery+".html";
                filename2 = 'SERP_Collection/'+currentDate+"/"+selectedQuery+".html";
                $(document).ready(function(){
                    console.log(filename1);
                    $('#iframeDate1').attr('src', filename1);
                    $('#iframeDate2').attr('src', filename2);

                });


                });
                
        </script>

        
        
        <div>
        
        
            
            
        </div>
        
    </body>